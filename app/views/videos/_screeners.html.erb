<% Screener.where("video_id = #{video_id} AND active=true").order("location, episode_number").each do |screener| %>

  <tr id="screener-<%= screener.id %>">

    <td data-title="Title">
      <%= screener.episode_title %>&nbsp;
    </td>

    <td data-title="Number">
      <%= screener.episode_number %>&nbsp;
    </td>

    <td data-title="Location">
      <%= screener.location %>&nbsp;
    </td>

    <td data-title="Actions">
      <%= link_to 'duplicate',
                  duplicate_screener_path(screener),
                  confirm: 'Are you sure?',
                  method: :post,
                  class: 'btn btn-mini',
                  remote: true %>
      <%= link_to "edit",
                  edit_screener_path(screener),
                  class: 'edit_screener',
                  id: 'edit_screener',
                  class: 'btn btn-mini',
                  data: {toggle: 'modal', target: '#screener-modal'} %>
      <%= link_to 'delete',
                  screener_path(screener),
                  method: :delete,
                  confirm: 'Are you sure?',
                  class: 'delete_screener btn btn-mini',
                  remote: true %>
    </td>
  </tr>
<% end %>

<script type="text/javascript">

  var $ = jQuery;

  // this sets up the ajax loader, and it will stay until the method specific js removes it
  $('a[data-target=#screener-modal]').on('click', function (e) {
    e.preventDefault();
    e.stopPropagation();
    $('body').modalmanager('loading');
    $.rails.handleRemote($(this));
  });
</script>