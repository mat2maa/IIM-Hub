<% Screener.where("video_id = #{video_id} AND active=true").order("location, episode_number").each do |screener| %>
  <li class="poster-info" id="screener-<%= screener.id %>">
    <%= screener.episode_title %> (<%= screener.episode_number %>, <%= screener.location %>)<br>
    <%= link_to 'duplicate',
                duplicate_screener_path(screener),
                confirm: 'Are you sure?',
                method: :post,
                remote: true %> |
    <%= link_to "edit",
                edit_screener_path(screener),
                class: 'edit_screener',
                id: 'edit_screener',
                data: { toggle: 'modal', target: '#screener-modal' } %> |
    <%= link_to 'delete',
                screener_path(screener),
                method: :delete,
                confirm: 'Are you sure?',
                class: 'delete_screener',
                remote: true %>
<% end %>

<script type="text/javascript">

  var $ = jQuery;

  // this sets up the ajax loader, and it will stay until the method specific js removes it
  $('a[data-target=#screener-modal]').on('click', function(e) {
    e.preventDefault();
    e.stopPropagation();
    $('body').modalmanager('loading');
    $.rails.handleRemote( $(this) );
  });
</script>